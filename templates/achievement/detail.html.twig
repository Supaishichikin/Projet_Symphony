{% extends 'base.html.twig' %}

{% block title %}{{ achievement.name ~ ' - ' ~ parent()}}{% endblock %}

{% block body %}
    <div class="row align-items-center">
        <div class="col-12 col-lg-6">
            <a href="{{ path('app_achievement_index') }}" class="btn btn-outline-secondary btn-sm mt-5">
                Retour à l'accueil
            </a>
            <br><br>
            <h1>{{ achievement.name }}</h1>
            <div class="detail_img"
                 style='background-image: url("{{ achievement.image is not null ? asset('local_images/' ~ achievement.image)
                 : 'http://via.placeholder.com/600*400' }}")'>
            </div>
            <p>{{ achievement.description }}</p>
            <a href="{{ path('app_achievement_processachievement', {"id" : achievement.id}) }}" class="btn {{ status.class }}">
                {{ status.message }}
            </a>
            <small class="ml-3">Cette activité à été complétée {{ times_completed }} fois</small>
        </div>
        <div class="col-12 col-lg-6 mt-3 mt-lg-0">
            <h2>Amis ayant complété cette tâche :</h2>
            <ul class="list-group">
                {% for user in friendsList %}
                    <li class="list-group-item">
                        {{ user.username }} a <span class="text-success">complété l'activité ✓</span>
                    </li>
                {% else %}
                    Aucun ami n'a complété cette activité pour l'instant
                {% endfor %}
            </ul>
        </div>
    </div>

{% endblock %}

